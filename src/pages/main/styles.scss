@use 'src/styles/base' as *;
@use 'src/styles/utils' as *;

body {
  background-color: $black;
  color: $white;
}

#main {
  width: 100%;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  text-align: left;
}

header {
  width: 100%;
  height: 100px;
}

/* ------------------- 공통 ------------------- */
@mixin swiperSlide($width, $height) {
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  gap: rem(8);
  width: $width;
  height: $height;
  margin-right: rem(8);

  .thumbnail-wrapper {
    width: 100%;
    position: relative;

    svg {
      position: absolute;
      top: rem(5);
      left: rem(5);
    }

    img {
      width: 100%;
      border-radius: rem(4);
    }
  }
}

@mixin swiperButtonPrev {
  &::after {
    content: none;
  }
  &:hover {
    opacity: 1;
  }
  position: absolute;
  width: rem(24);
  top: 50%;
  left: -2rem;
  transform: translateY(-50%);
  opacity: 0.5;
  background-repeat: no-repeat;
  background-size: 100%;
  background-position: 50% 50%;
  z-index: 10;
  transition: opacity 0.1s ease 0s;
  cursor: pointer;
  background-image: url(/src/assets/main/arrow.svg);

  @media (max-width: $breakpoint-tablet) {
    width: rem(16);
    left: -1rem;
  }
  @media (max-width: $breakpoint-mobile) {
    width: rem(12);
    left: -0.5rem;
  }
}

@mixin swiperButtonNext {
  &::after {
    content: none;
  }
  &:hover {
    opacity: 1;
  }
  position: absolute;
  width: rem(24);
  top: 50%;
  right: -2rem;
  transform: scaleX(-1) translateY(-50%);
  opacity: 0.5;
  background-repeat: no-repeat;
  background-size: 100%;
  background-position: 50% 50%;
  z-index: 10;
  transition: opacity 0.1s ease 0s;
  cursor: pointer;
  background-image: url(/src/assets/main/arrow.svg);
  @media (max-width: $breakpoint-tablet) {
    width: rem(16);
    right: -1rem;
  }
  @media (max-width: $breakpoint-mobile) {
    width: rem(12);
    right: -0.5rem;
  }
}

.section {
  width: 100%;
  padding-left: $container-gutter;
  padding-right: $container-gutter;
  padding-top: rem(40);
}

.section__title {
  margin-bottom: rem(8);
}

.main-title {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-start;
  color: $gray-200;
}

.title-wrapper {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: rem(4);
  margin-top: rem(4);
  margin-bottom: rem(8);
}

/* ------------------- 메인 배너 ------------------ */

.main__banner {
  width: 100%;
  .banner__img {
    width: 100%;
    height: calc(100vh - rem(100));
    overflow: hidden;
    @media (max-width: $breakpoint-tablet) {
      height: 45vw;
    }
  }
}

.mainSwiper {
  height: calc(100vh - rem(100));
  .banner__background-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .banner__title {
    position: absolute;
    left: calc($container-gutter * 2);
    bottom: 12vh;

    .banner__image {
      max-width: 31.667rem;
      max-height: 9.833rem;
      object-fit: contain;
    }
    .banner__description {
      margin-top: em(16, 28);
    }
  }

  .swiper-button-prev {
    &::after {
      content: none;
    }
    &:hover {
      opacity: 1;
    }
    position: absolute;
    width: rem(24);
    top: 50%;
    left: $container-gutter;
    transform: translateY(-50%);
    opacity: 0.5;
    background-repeat: no-repeat;
    background-size: 100%;
    background-position: 50% 50%;
    z-index: 10;
    transition: opacity 0.1s ease 0s;
    cursor: pointer;
    background-image: url(/src/assets/main/arrow.svg);
  }
  .swiper-button-next {
    &::after {
      content: none;
    }
    &:hover {
      opacity: 1;
    }
    position: absolute;
    width: rem(24);
    top: 50%;
    right: $container-gutter;
    transform: scaleX(-1) translateY(-50%);
    opacity: 0.5;
    background-repeat: no-repeat;
    background-size: 100%;
    background-position: 50% 50%;
    z-index: 10;
    transition: opacity 0.1s ease 0s;
    cursor: pointer;
    background-image: url(/src/assets/main/arrow.svg);
  }

  .swiper-pagination-bullet {
    background: white;
    opacity: 0.5;
  }

  .swiper-pagination-bullet-active {
    background: white;
    opacity: 1;
  }
}

/* ------------- 티빙에서 꼭 봐야 하는 컨텐츠 ------------- */
.must {
  .swiper {
    overflow: visible;
  }
  .contentsSwiper {
    width: 100%;
    height: 100%;

    .swiper-slide {
      @include swiperSlide(rem(240), rem(380));
      img {
        display: block;
        object-fit: cover;
        height: rem(345);
        @media (max-width: $breakpoint-tablet) {
          height: rem(189);
        }
      }
      @media (max-width: $breakpoint-tablet) {
        width: rem(130);
        height: rem(212);
      }
    }

    .swiper-button-prev {
      @include swiperButtonPrev();
    }
    .swiper-button-next {
      @include swiperButtonNext();
    }
  }
}

/* ------------------- Quick VOD ------------------- */
.quick {
  .swiper {
    overflow: visible;
  }
  .contentsSwiper {
    width: 100%;
    height: 100%;

    .swiper-slide {
      @include swiperSlide(rem(345), rem(264));
      img {
        height: rem(194);
      }
      .thumbnail-wrapper {
        position: relative;
      }
      .icon-quick {
        position: absolute;
        top: rem(5);
        left: rem(5);
      }
      img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }

    .swiper-button-prev {
      @include swiperButtonPrev();
    }
    .swiper-button-next {
      @include swiperButtonNext();
    }
  }

  .episode {
    color: $gray-200;
  }
}

/* ------------------- 실시간 인기 프로그램 ------------------- */
.popular {
  .swiper {
    overflow: visible;
  }
  .contentsSwiper {
    width: 100%;
    height: 100%;

    .swiper-slide {
      position: relative;
      @include swiperSlide(rem(240), rem(385));
      img {
        display: block;
        height: rem(345);
        object-fit: cover;
      }

      .popular__info {
        position: absolute;
        width: rem(240);
        height: rem(60);
        top: rem(328);
        left: 0;
        display: flex;
        flex-direction: row;
        align-items: flex-end;
        .popular__rangking {
          display: inline-block;
        }
        .popular__title {
          display: flex;
          align-items: flex-end;
          color: $gray-200;
          margin-left: rem(16);
        }

        h3::after {
          content: '•';
          font-size: rem(30);
          margin-left: rem(3);
          color: $brand-red-1;
        }
      }

      .popular__poster {
        position: absolute;
        width: rem(240);
        height: rem(345);
        border-radius: rem(4);
        top: 0;
        left: 0;
        overflow: hidden;

        img {
          width: 100%;
          object-fit: cover;
        }
      }
    }

    .swiper-button-prev {
      @include swiperButtonPrev();
    }
    .swiper-button-next {
      @include swiperButtonNext();
    }
  }
}

/* ---------------- 인기 LIVE 채널 ---------------- */
.live {
  .swiper {
    overflow: visible;
  }
  .contentsSwiper {
    width: 100%;
    height: 100%;

    .swiper-slide {
      @include swiperSlide(rem(345), rem(285));
      img {
        display: block;
        height: rem(194);
        object-fit: cover;
      }

      .live__info {
        width: rem(345);
        height: rem(90);
        left: 0;
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        gap: rem(16);
        .live__rangking {
          display: inline-block;
          margin-top: rem(10);
        }
        .title-wrapper {
          color: $gray-200;
          gap: 0;
        }
      }

      .popular__poster {
        position: absolute;
        width: rem(240);
        height: rem(345);
        border-radius: rem(4);
        top: 0;
        left: 0;
        overflow: hidden;

        img {
          width: 100%;
          object-fit: cover;
        }
      }
    }

    .swiper-button-prev {
      @include swiperButtonPrev();
    }
    .swiper-button-next {
      @include swiperButtonNext();
    }
  }
}

/* ---------------- 오직 티빙에만 있어요 ---------------- */
.only {
  .swiper {
    overflow: visible;
  }
  .contentsSwiper {
    width: 100%;
    height: 100%;

    .swiper-slide {
      @include swiperSlide(rem(285), rem(570));
      img {
        display: block;
        height: rem(570);
        object-fit: cover;
      }
    }

    .swiper-button-prev {
      @include swiperButtonPrev();
    }
    .swiper-button-next {
      @include swiperButtonNext();
    }
  }
}

/* -------------------- 배너 -------------------- */
.banner {
  .swiper {
    overflow: visible;
  }
  .contentsSwiper {
    width: 100%;
    height: 100%;

    .swiper-slide {
      @include swiperSlide(100%, rem(177));
      img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }

    .swiper-button-prev {
      @include swiperButtonPrev();
    }
    .swiper-button-next {
      @include swiperButtonNext();
    }
  }
}

/* -------------------- 이벤트 ------------------- */
.event {
  .swiper {
    overflow: visible;
  }
  .contentsSwiper {
    width: 100%;
    height: 100%;

    .swiper-slide {
      @include swiperSlide(rem(348), rem(120));
      img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }

    .swiper-button-prev {
      @include swiperButtonPrev();
    }
    .swiper-button-next {
      @include swiperButtonNext();
    }
  }
  padding-bottom: rem(80);
}
